<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.3"></script>
		<script src="http://webapi.amap.com/maps?v=1.3"></script>
		<script type="text/javascript" src="js/KpBaseMap.js"></script>
		<script type="text/javascript" src="js/KpCircle.js"></script>
		<script type="text/javascript" src="js/KpBounds.js"></script>
		<script type="text/javascript" src="js/KpPoint.js"></script>
		<style type="text/css">
			body,
			html,
			#allmap {
				width: 100%;
				height: 100%;
				overflow: hidden;
				margin: 0;
				font-family: "微软雅黑";
			}
			
			.right-query {
				float: right;
				position: absolute;
				top: 10px;
				right: 117px;
			}
		</style>
	</head>

	<body>
		<div id="allmap"></div>
		<div class="right-query">
			<button onclick="drawing.switch();">切换地图</button>
		</div>
	</body>
	<script>
		var flag = 'BMap';
		var amapOptions = {
			id: "allmap",
			apiType: "AMap",
			zoom: 14,
			lng: '113.551694',
			lat: '22.365569'
		};
		var bmapOptions = {
			id: "allmap",
			apiType: "BMap",
			zoom: 15,
			lng: '113.551694',
			lat: '22.365569'
		};

		var map = new KingMap.Map(bmapOptions);
		drawCircleOnBMap(map);

		
		drawing = {
			switch: function() {
				document.getElementById("allmap").innerHTML = '';
				if(flag == 'BMap') {
					map = new KingMap.Map(amapOptions);
					flag = 'AMap';
					drawCircleOnAMap(map);
				} else {
					map = new KingMap.Map(bmapOptions);
					flag = 'BMap';
					drawCircleOnBMap(map);
				}
			}

		}

		function drawCircleOnBMap(map) {
			var options = {
				centerLng : 113.517032,
				centerLat : 22.350776,
				apiType : 'BMap'
			}
			
			//构造实例
			var KpCircle1 = new KingMap.Circle(map, options);
			
			//获取原生圆形覆盖物对象
			//var circle = KpCircle1.getOverlay();
			KpCircle1.addEventListener('click', function(e) {
				//测试更改圆形中心坐标：setCenter()
				KpCircle1.setCenter(113.517032, 22.360776);
				
				//KpCircle1.remove()
				
				//测试设置圆形半径大小：setRadius()
				//KpCircle1.setRadius(700);
				
				//测试获取圆形中心坐标：getCenter()
				//alert(KpCircle1.getCenter());
				
				//测试获取圆形覆盖物地理区域范围：getBounds()
				//alert(KpCircle1.getBounds());
				
				//测试获取圆形覆盖物半径大小：getRadius()
				//alert(KpCircle1.getRadius());
				
				//测试圆形覆盖物隐藏：hide()
				//KpCircle1.hide();
				
				//测试获取圆形覆盖物所在地图对象getMap()
				//alert(KpCircle1.getMap());
				
				//测试获取原生的Circle对象
				//alert(KpCircle1.getOverlay())
			});
			console.log(KpCircle1.getBounds());
			console.log(flag);
			console.log(KpCircle1.getBounds().getSouthWest().getPoint(flag));
		}

		function drawCircleOnAMap(map) {
			var options = {
				centerLng : 113.517032,
				centerLat : 22.350776,
				apiType : 'AMap'
			}
			
			//构造实例
			var KpCircle1 = new KingMap.Circle(map, options);
			
			//获取原生圆形覆盖物对象
			var circle = KpCircle1.getOverlay();

			KpCircle1.addEventListener('click', function(e) {
				
				//测试更改圆形中心坐标：setCenter()
				KpCircle1.setCenter(113.517032, 22.360776);
				
				//KpCircle1.remove();
				
				//测试设置圆形半径大小：setRadius()
				//KpCircle1.setRadius(700);
				
				//测试获取圆形中心坐标：getCenter()
				//alert(KpCircle1.getCenter());
				
				//测试获取圆形覆盖物地理区域范围：getBounds()
				//alert(KpCircle1.getBounds());
				
				//测试获取圆形覆盖物半径大小：getRadius()
				//alert(KpCircle1.getRadius());
				
				//测试圆形覆盖物隐藏：hide()
				//KpCircle1.hide();
				
				//测试获取圆形覆盖物所在地图对象getMap()
				//alert(KpCircle1.getMap());
				
				//测试获取原生的Circle对象
				//alert(KpCircle1.getOverlay())

				console.log('AMap的Bounds的测试')
				console.log(KpCircle1.getBounds());
				console.log(flag);
				console.log(KpCircle1.getBounds().getSouthWest().getPoint(flag));
			});
		}
	</script>

</html>